# [member]
ETCD_NAME={{inventory_hostname}}
ETCD_DATA_DIR="{{etcd_working_dir}}/{{etcd_cluster_name}}.etcd"
#ETCD_SNAPSHOT_COUNTER="10000"
#ETCD_HEARTBEAT_INTERVAL="100"
#ETCD_ELECTION_TIMEOUT="1000"
ETCD_LISTEN_CLIENT_URLS="http://localhost:2379,http://{{hostvars[inventory_hostname]['ansible_' + etcd_network_iface]['ipv4']['address']}}:2379"
#ETCD_MAX_SNAPSHOTS="5"
#ETCD_MAX_WALS="5"
#ETCD_CORS=""
#
# [cluster]
{% if inventory_hostname in groups['etcd-master'] %}
ETCD_LISTEN_PEER_URLS="http://{{hostvars[inventory_hostname]['ansible_' + hostvars[inventory_hostname]['etcd_network_iface']]['ipv4']['address']}}:2380"
ETCD_ADVERTISE_CLIENT_URLS="http://{{hostvars[inventory_hostname]['ansible_' + hostvars[inventory_hostname]['etcd_network_iface']]['ipv4']['address']}}:2379"
ETCD_INITIAL_ADVERTISE_PEER_URLS="http://{{hostvars[inventory_hostname]['ansible_' + hostvars[inventory_hostname]['etcd_network_iface']]['ipv4']['address']}}:2380"
{% endif %}
ETCD_INITIAL_CLUSTER="{% for host in groups['etcd-master'] %}{{hostvars[host]['inventory_hostname']}}=http://{{hostvars[host]['ansible_' + hostvars[host]['etcd_network_iface']]['ipv4']['address']}}:2380{% if not loop.last %},{% endif %}{% endfor %}"
ETCD_INITIAL_CLUSTER_STATE="new"
ETCD_INITIAL_CLUSTER_TOKEN="{{etcd_initial_cluster_token}}"
# if you use different ETCD_NAME (e.g. test), set ETCD_INITIAL_CLUSTER value for this name, i.e. "test=http://..."
#ETCD_DISCOVERY=""
#ETCD_DISCOVERY_SRV=""
#ETCD_DISCOVERY_FALLBACK="proxy"
#ETCD_DISCOVERY_PROXY=""
#
#[proxy]
{% if inventory_hostname in groups['etcd-worker'] %}
ETCD_PROXY="on"
{% endif %}
#
#[security]
#ETCD_CERT_FILE=""
#ETCD_KEY_FILE=""
#ETCD_CLIENT_CERT_AUTH="false"
#ETCD_TRUSTED_CA_FILE=""
#ETCD_PEER_CERT_FILE=""
#ETCD_PEER_KEY_FILE=""
#ETCD_PEER_CLIENT_CERT_AUTH="false"
#ETCD_PEER_TRUSTED_CA_FILE=""
#
#[logging]
#ETCD_DEBUG="true"
# examples for -log-package-levels etcdserver=WARNING,security=DEBUG
#ETCD_LOG_PACKAGE_LEVELS="etcdserver=DEBUG"
